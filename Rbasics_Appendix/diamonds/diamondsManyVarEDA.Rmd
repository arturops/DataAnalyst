---
title: "diamondsManyVarEDA"
author: "Arturo Parrales"
date: "7/22/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# R Diamond Dataset Exploration for Many Variables

In this project we will analyze the diamonds dataset from the ggplot package. It is intended to analyze multiple variables with different plots.

```{r diamond}
#Load ggplot first
library(ggplot2) 

# Load diamonds dataset contained in ggplot package
data(diamonds)
d <- diamonds

```

Once we loaded the dataset, we can see the diamonds dataset has:

```{r dataset size, echo=FALSE}
print('Observations: ')
nrow(d) 
print('Variables: ')
ncol(d)
```

## Exploring the Diamonds Price

```{r Histogram of Prices}
# Create a histogram of diamond prices.
# Facet the histogram by diamond color
# and use cut to color the histogram bars.

ggplot(aes(price, fill = cut), data = subset(d, !is.na(price))) +
  facet_wrap( ~ color) +
  geom_histogram() +
  scale_x_log10() +
  scale_fill_brewer(type = 'qual')

```

```{r Scatterplot Price vs Table}
# Create a scatterplot of diamond price vs.
# table and color the points by the cut of
# the diamond.

ggplot(aes(y = price, x = table), data = subset(d, !is.na(table), !is.na(price))) +
  geom_jitter(alpha = 1/3, aes(color = cut)) +
  scale_colour_brewer(type = 'qual') +
  scale_x_continuous(limits = c(50,80), breaks = seq(min(d$table), max(d$table), by = 4))

```

```{r Scatterplot Price vs Volume}
# Create a scatterplot of diamond price vs.
# volume (x * y * z) and color the points by
# the clarity of diamonds. Use scale on the y-axis
# to take the log10 of price. You should also
# omit the top 1% of diamond volumes from the plot.

d <- transform(d, volume = x*y*z)

ggplot(aes(x = volume, y = price), data = subset(d, d$volume <= quantile(d$volume, 0.99))) +
  geom_jitter(aes(color = clarity)) +
  scale_y_log10() +
  scale_color_brewer(type = 'div')

```

```{r Scatterplot Price/Carat Ratio vs Cut}
# Create a scatter plot of the price/carat ratio
# of diamonds. The variable x should be
# assigned to cut. The points should be colored
# by diamond color, and the plot should be
# faceted by clarity.

ggplot(aes(x = cut, y = price/carat), data = subset(d, !is.na(price), !is.na(carat))) +
  geom_jitter(aes(color = color), size = 0.2) +
  facet_wrap( ~ clarity ) +
  ylab('Price/Carat') +
  xlab('Cut') +
  theme(axis.text.x = element_text(face="bold", size=6, angle=90),
        axis.text.y = element_text(face="bold", size=8, angle=0),
        strip.text = element_text(size=10), 
        legend.text = element_text(size=6), legend.title = element_text(face='bold',size=8),
        axis.title.x = element_text(size=12), axis.title.y = element_text(size=12)) +
  scale_colour_brewer(type = 'div') 
  
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
